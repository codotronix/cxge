window.cxgf={},function(i){function t(){if(e&&!(n.length<=0)){var i;for(var r in n){i=n[r];for(var s in i.group1)for(var h in i.group2)o(i.group1[s],i.group2[h])&&(void 0!==i.group1[s].onCollision&&i.group1[s].onCollision(i.group2[h]),void 0!==i.group2[h].onCollision&&i.group2[h].onCollision(i.group1[s]))}setTimeout(t,1e3/60)}}function o(i,t){return!(i.x+i.width<t.x||i.x>t.x+t.width||i.y+i.height<t.y||i.y>t.y+t.height)}window.cxgf.Collision={watch:function(i,t){n.push({group1:$.isArray(i)?i:[i],group2:$.isArray(t)?t:[t]})},isColliding:o,startWatching:function(){e||(e=!0,t())},stopWatching:function(){e=!1}};var n=[],e=!1}(),window.cxgf.GameObject=function(){function i(i){for(var t in i)this[t]=i[t];this.x=this.x||0,this.y=this.y||0,this.speed=this.speed||1,this.speedX=this.speedX||this.speed,this.speedY=this.speedY||this.speed,this.directionSense=this.directionSense||4,this.holdDirectionNTurns=this.holdDirectionNTurns||9,this.render()}return i.prototype.render=function(){$("#"+this.htmlId).css({top:this.y+"px",left:this.x+"px"})},i.prototype.moveLeft=function(){this.x-=this.speedX||this.speed,this.render()},i.prototype.moveRight=function(){this.x+=this.speedX||this.speed,this.render()},i.prototype.moveUp=function(){this.y-=this.speedY||this.speed,this.render()},i.prototype.moveDown=function(){this.y+=this.speedY||this.speed,this.render()},i.prototype.move=function(i){"LEFT"===i||"W"===i?this.moveLeft():"RIGHT"===i||"E"===i?this.moveRight():"UP"===i||"N"===i?this.moveUp():"down"===i||"S"===i?this.moveDown():"RANDOM-4"!==i&&void 0!==i||((!this._holdDirectionCounter||this._holdDirectionCounter>this.holdDirectionNTurns)&&("N"===this.prevDirection?this.direction=["N","E","W"][Math.floor(3*Math.random())]:"E"===this.prevDirection?this.direction=["N","E","S"][Math.floor(3*Math.random())]:"S"===this.prevDirection?this.direction=["E","S","W"][Math.floor(3*Math.random())]:"W"===this.prevDirection?this.direction=["N","S","W"][Math.floor(3*Math.random())]:this.direction=["E","W","N","S"][Math.floor(4*Math.random())],this.prevDirection=this.direction,this._holdDirectionCounter=0),this._holdDirectionCounter++,this.move(this.direction))},i.prototype.turnAround=function(){this.direction={E:"W",W:"E",N:"S",S:"N"}[this.direction],this.move(this.direction)},i.prototype.onCollision=function(i){},i}(),function(i){window.cxgf.KeyEvent={onKeyPress:function(i,o,n){void 0==t[i]&&(t[i]=[]),t[i].push({fn:o,obj:n})},keys:{LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32}};var t={};$(document).on("keydown",function(i){for(var o in t)if(i.keyCode==o)for(var n in t[o])t[o][n].fn.apply(t[o][n].obj)})}(),function(i){function t(){n||(n=!0,o())}function o(){if(n&&!(e.length<=0)){r++;for(var i in e)r%e[i].skipTick==0&&e[i].fn.apply(e[i].obj);r===s&&(r=0),setTimeout(o,1e3/60)}}window.cxgf.Ticker={onTick:function(i,o,n){e.push({fn:i,obj:o,skipTick:void 0===n||n<0?1:n}),t()},startTick:t,stopTick:function(){n=!1}};var n=!1,e=[],r=0,s=27e6}();