window.cxgf={},function(i){function o(){if(e&&!(n.length<=0)){var i;for(var r in n){i=n[r];for(var s in i.group1)for(var h in i.group2)t(i.group1[s],i.group2[h])&&(void 0!==i.group1[s].onCollision&&i.group1[s].onCollision(i.group2[h]),void 0!==i.group2[h].onCollision&&i.group2[h].onCollision(i.group1[s]))}setTimeout(o,1e3/60)}}function t(i,o){return!(i.x+i.width<o.x||i.x>o.x+o.width||i.y+i.height<o.y||i.y>o.y+o.height)}window.cxgf.Collision={watch:function(i,o){n.push({group1:$.isArray(i)?i:[i],group2:$.isArray(o)?o:[o]})},isColliding:t,startWatching:function(){e||(e=!0,o())},stopWatching:function(){e=!1}};var n=[],e=!1}(),window.cxgf.GameObject=function(){function i(i){for(var o in i)this[o]=i[o];this.render()}return i.prototype.render=function(){$("#"+this.htmlId).css({top:this.y+"px",left:this.x+"px"})},i.prototype.moveLeft=function(){this.x-=this.speedX||this.speed,this.render()},i.prototype.moveRight=function(){this.x+=this.speedX||this.speed,this.render()},i.prototype.moveUp=function(){this.y-=this.speedY||this.speed,this.render()},i.prototype.moveDown=function(){this.y+=this.speedY||this.speed,this.render()},i.prototype.move=function(i){"left"===i?this.moveLeft():"right"===i?this.moveRight():"up"===i?this.moveUp():"down"===i?this.moveDown():"random"!==i&&void 0!==i||(4===this.directionSense||void 0===this.directionSense?("N"===this.prevDirection?this.direction=["N","E","W"][Math.floor(3*Math.random())]:"E"===this.prevDirection?this.direction=["N","E","S"][Math.floor(3*Math.random())]:"S"===this.prevDirection?this.direction=["E","S","W"][Math.floor(3*Math.random())]:"W"===this.prevDirection?this.direction=["N","S","W"][Math.floor(3*Math.random())]:this.direction=["E","W","N","S"][Math.floor(4*Math.random())],"N"===this.direction?this.moveUp():"E"===this.direction?this.moveRight():"S"===this.direction?this.moveDown():"W"===this.direction&&this.moveLeft(),this.prevDirection=this.direction):this.directionSense)},i.prototype.onCollision=function(i){console.log(this),console.log(" is in collision with "),console.log(i)},i}(),function(i){window.cxgf.KeyEvent={onKeyPress:function(i,t,n){void 0==o[i]&&(o[i]=[]),o[i].push({fn:t,obj:n})},keys:{LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32}};var o={};$(document).on("keydown",function(i){for(var t in o)if(i.keyCode==t)for(var n in o[t])o[t][n].fn.apply(o[t][n].obj)})}(),function(i){function o(){n||(n=!0,t())}function t(){if(n&&!(e.length<=0)){for(var i in e)e[i].fn.apply(e[i].obj);setTimeout(t,1e3/60)}}window.cxgf.Ticker={onTick:function(i,t){e.push({fn:i,obj:t}),o()},startTick:o,stopTick:function(){n=!1}};var n=!1,e=[]}();